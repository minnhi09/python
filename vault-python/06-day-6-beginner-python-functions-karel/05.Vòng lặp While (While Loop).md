#### Code ban đầu
```python
def turn_right():
    turn_left()
    turn_left()
    turn_left()
    
def jump():
    move()
    turn_left()
    move()
    turn_right()
    move()
    turn_right()
    move()
    turn_left()
```

### Khái niệm cơ bản

Vòng lặp while (while loop) là một cấu trúc lặp sẽ tiếp tục chạy **miễn là điều kiện được chỉ định còn đúng (true)**.

Ví dụ minh họa: Robot được lập trình với chỉ thị "trong khi bạn vẫn cắm vào ổ điện và có điện, hãy di chuyển về phía trước". Robot sẽ dừng lại khi rút phích cắm ra khỏi ổ điện và không còn nhận được điện.

### So sánh với vòng lặp For

**Vòng lặp For (For Loop)** có hai dạng phổ biến:

- Lặp qua danh sách các phần tử để xử lý từng phần tử

```python
for fruit in fruits:
    print(fruit)
```

- Sử dụng hàm range để tạo dãy số và xử lý từng số

```python
for number in range(1, 6):
    print(number)
```

**Vòng lặp While (While Loop)** có cấu trúc:

```python
while điều_kiện == True:
    # Thực hiện hành động
    # Lặp lại cho đến khi điều kiện trở thành False
```


### Cú pháp

```python
while điều_kiện:
    # Làm điều này
    # Rồi làm điều kia
    # Tiếp tục làm điều khác
```

**Cách hoạt động:**

- Kiểm tra điều kiện đầu tiên
- Nếu điều kiện đúng (true), thực thi các dòng code bên trong vòng lặp
- Sau khi hoàn thành, quay lại đầu vòng lặp và kiểm tra điều kiện lại
- Lặp lại cho đến khi điều kiện trở thành sai (false)


### Ví dụ thực hành

#### Bài tập Hurdle 1

**Yêu cầu:** Robot cần nhảy qua 6 chướng ngại vật để đến đích.

**Giải pháp với For Loop:**

```python
for i in range(6):
    jump()
```

**Giải pháp với While Loop:**

```python
number_of_hurdles = 6

while number_of_hurdles > 0:
    jump()
    number_of_hurdles -= 1
    print(number_of_hurdles)
```

**Giải thích luồng xử lý:**

- Lần đầu: `number_of_hurdles = 6`, điều kiện `6 > 0` đúng → thực hiện `jump()` → giảm xuống 5
- Tiếp tục kiểm tra: `5 > 0` đúng → thực hiện `jump()` → giảm xuống 4
- Cứ thế cho đến khi `number_of_hurdles = 0`
- Khi `0 > 0` sai → thoát vòng lặp


#### Bài tập Hurdle 2

**Yêu cầu:** Vị trí cờ đích được đặt ngẫu nhiên, robot phải nhảy cho đến khi đến đích.

**Giải pháp:**

```python
while not at_goal():
    jump()
```

**Giải thích:**

- `at_goal()` trả về `True` khi robot ở vị trí cờ đích, `False` khi chưa đến
- `not at_goal()` đảo ngược điều kiện: "trong khi CHƯA đến đích"
- Robot tiếp tục nhảy cho đến khi `at_goal()` trở thành `True`

**Cú pháp tương đương:**

```python
# Cách 1: Dễ đọc hơn
while not at_goal():
    jump()

# Cách 2: Tường minh hơn
while at_goal() != True:
    jump()
```


### Khi nào sử dụng While loop vs For loop

**Sử dụng For Loop khi:**

- Cần lặp qua từng phần tử trong danh sách/dãy số
- Biết trước số lần lặp cần thực hiện
- Cần xử lý từng item cụ thể

```python
# Ví dụ: Xử lý từng trái cây
for fruit in fruits:
    print(fruit)

# Ví dụ: In các số từ 1 đến 6
for number in range(1, 7):
    print(number)
```

**Sử dụng While Loop khi:**

- Không quan tâm đến vị trí/thứ tự hiện tại
- Chỉ muốn thực hiện hành động cho đến khi đạt điều kiện nào đó
- Không biết trước số lần lặp cần thiết

```python
# Ví dụ: Lặp cho đến khi đạt mục tiêu
while not at_goal():
    move()
```


### Cảnh báo: Vòng lặp vô hạn (Infinite Loop)

**Vòng lặp vô hạn** xảy ra khi điều kiện của while loop không bao giờ trở thành `False`.

**Ví dụ vòng lặp vô hạn:**

```python
# NGUY HIỂM: Điều kiện luôn đúng
while 5 > 3:
    jump()
```

**Tại sao nguy hiểm:**

- For loop có giới hạn rõ ràng (kết thúc danh sách hoặc range)
- While loop chỉ dừng khi điều kiện thành `False`
- Nếu điều kiện không đổi, chương trình chạy mãi mãi

**Cách debug:**

```python
# In điều kiện để kiểm tra
while condition:
    print(condition)  # Xem điều kiện có thay đổi không
    # code xử lý
```


### Ghi chú quan trọng

- While loop linh hoạt hơn nhưng cũng dễ tạo lỗi hơn for loop
- Luôn đảm bảo điều kiện của while loop có thể trở thành `False`
- Nếu gặp infinite loop, thoát chương trình và kiểm tra lại điều kiện
- Sử dụng `print()` để debug và theo dõi giá trị điều kiện

**Liên kết:** [[While Loop]], [[For Loop]], [[Vòng lặp]], [[Điều kiện]], [[Boolean]], [[Infinite Loop]], [[Range Function]], [[Python Loops]]

