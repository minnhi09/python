

## 

### Tổng quan

Step 5 là bước cuối cùng để hoàn thiện dự án Hangman. Bước này tập trung vào tổ chức code tốt hơn bằng cách sử dụng modules riêng biệt và cải thiện trải nghiệm người dùng (User Experience - UX).

### Mục tiêu Step 5

- Import dữ liệu từ các module riêng biệt
- Cải thiện feedback cho người chơi
- Xử lý trường hợp đoán trùng chữ cái
- Hiển thị thông tin rõ ràng hơn
- Hoàn thiện game với đầy đủ tính năng


### TODO 1-3: Import từ Modules riêng

**Vấn đề:** File ban đầu có lỗi vì thiếu `word_list` và `stages`.

**Giải pháp:** Import từ file `hangman_words.py` và `hangman_art.py`.

#### Cấu trúc file modules

**File hangman_words.py:**

```python
word_list = [
    "aardvark", "baboon", "camel", 
    "elephant", "giraffe", "zebra"
    # ... danh sách từ khác
]
```

**File hangman_art.py:**

```python
stages = [
    # Stage 0 - 6
    # ... ASCII art
]

logo = '''
 _                                             
| |                                            
| |__   __ _ _ __   __ _ _ __ ___   __ _ _ __  
| '_ \ / _` | '_ \ / _` | '_ ` _ \ / _` | '_ \ 
| | | | (_| | | | | (_| | | | | | | (_| | | | |
|_| |_|\__,_|_| |_|\__, |_| |_| |_|\__,_|_| |_|
                    __/ |                      
                   |___/
'''
```


#### TODO 1: Import word_list

**Phương pháp 1: Import module thông thường**

```python
import hangman_words

chosen_word = random.choice(hangman_words.word_list)
```

**Giải thích:**

- Import toàn bộ module `hangman_words`
- Truy cập `word_list` bằng cú pháp dot notation: `hangman_words.word_list`
- Phải ghi rõ module name mỗi khi sử dụng

**Phương pháp 2: Import trực tiếp (Khuyên dùng cho trường hợp này)**

```python
from hangman_words import word_list

chosen_word = random.choice(word_list)
```

**Giải thích:**

- Import trực tiếp `word_list` từ module
- Sử dụng trực tiếp tên `word_list` mà không cần prefix
- Code ngắn gọn và dễ đọc hơn
- Phù hợp khi chỉ cần import 1-2 thứ từ module


#### TODO 2: Import stages

**Cách thực hiện:**

```python
from hangman_art import stages
```

**Giải thích:**

- Import list `stages` chứa ASCII art của hangman
- Sử dụng trực tiếp: `print(stages[lives])`


#### TODO 3: Import và hiển thị logo

**Cách thực hiện:**

```python
from hangman_art import stages, logo

print(logo)
```

**Giải thích:**

**Import nhiều items cùng lúc:**

```python
# Thay vì viết:
from hangman_art import stages
from hangman_art import logo

# Viết gọn hơn:
from hangman_art import stages, logo
```

**Hiển thị logo khi bắt đầu:**

- In logo ngay đầu game để tạo ấn tượng
- Nằm ngoài while loop (chỉ in 1 lần)
- Tạo giao diện chuyên nghiệp hơn


### So sánh hai cách import

**Cách 1: import module_name**

```python
import hangman_words
import hangman_art

word = hangman_words.word_list[0]
art = hangman_art.stages[5]
```

**Ưu điểm:**

- Rõ ràng nguồn gốc của từng biến/hàm
- Tránh xung đột tên khi import nhiều module
- Phù hợp khi import nhiều thứ từ module

**Nhược điểm:**

- Code dài dòng hơn
- Phải gõ tên module nhiều lần

**Cách 2: from module_name import item**

```python
from hangman_words import word_list
from hangman_art import stages, logo

word = word_list[0]
art = stages[5]
```

**Ưu điểm:**

- Code ngắn gọn, dễ đọc
- Không cần prefix module name
- Phù hợp khi chỉ import ít thứ

**Nhược điểm:**

- Có thể gây nhầm lẫn nguồn gốc
- Nguy cơ xung đột tên biến cao hơn


### TODO 4: Cảnh báo chữ cái đã đoán

**Yêu cầu:** Nếu người chơi đoán lại chữ cái đã đoán trước đó, thông báo cho họ biết và KHÔNG trừ mạng.

**Cách thực hiện:**

```python
while not game_over:
    guess = input("Guess a letter: ").lower()
    
    # TODO 4: Kiểm tra chữ cái đã đoán
    if guess in correct_letters:
        print(f"You've already guessed {guess}")
    
    display = ""
    
    for letter in chosen_word:
        if letter == guess:
            display += letter
            correct_letters.append(letter)
        elif letter in correct_letters:
            display += letter
        else:
            display += "_"
    
    # ... code tiếp theo
```

**Giải thích chi tiết:**

**Vị trí kiểm tra:**

- Ngay sau khi nhận input từ người chơi
- Trước khi xử lý logic hiển thị
- Độc lập với logic khác

**Logic kiểm tra:**

```python
if guess in correct_letters:
```

- `correct_letters` chứa tất cả chữ cái đã đoán đúng
- Nếu `guess` đã có trong list → người chơi đã đoán rồi
- Hiển thị thông báo nhưng KHÔNG trừ mạng

**Lý do không trừ mạng:**

- Công bằng với người chơi
- Tránh phạt do lỗi vô tình
- Cải thiện trải nghiệm người dùng

**Ví dụ:**

```
Từ: "baboon"
Lượt 1: Đoán "b" → b_b___ (thêm "b" vào correct_letters)
Lượt 2: Đoán "b" lại → "You've already guessed b"
→ Không trừ mạng, cho phép đoán tiếp
```


### TODO 5: Feedback khi đoán sai

**Yêu cầu:** Thông báo rõ ràng khi người chơi đoán sai và mất mạng.

**Cách thực hiện:**

```python
# TODO 5: Thêm feedback
if guess not in chosen_word:
    lives -= 1
    print(f"You guessed {guess}, that's not in the word. You lose a life.")
    
    if lives == 0:
        game_over = True
        print("**********************YOU LOSE**********************")
```

**Giải thích:**

**Thông báo cụ thể:**

- Cho người chơi biết chữ cái họ vừa đoán
- Xác nhận chữ cái không có trong từ
- Nhắc nhở họ đã mất 1 mạng

**Tầm quan trọng của feedback:**

- Người dùng luôn biết chính xác điều gì đang xảy ra
- Giảm sự bối rối và frustration
- Tạo trải nghiệm chơi game tốt hơn

**User Experience (UX) principles:**

- **Visibility:** Người dùng luôn thấy trạng thái hệ thống
- **Feedback:** Phản hồi ngay lập tức cho mọi hành động
- **Error prevention:** Ngăn chặn lỗi bằng thông tin rõ ràng


### TODO 6: Hiển thị số mạng còn lại

**Yêu cầu:** Cập nhật hiển thị để người chơi biết còn bao nhiêu mạng.

**Cách thực hiện:**

```python
while not game_over:
    # TODO 6: Hiển thị số mạng
    print(f"****************************{lives}/6 LIVES LEFT****************************")
    
    guess = input("Guess a letter: ").lower()
    
    # ... code xử lý
    
    print(stages[lives])
```

**Giải thích:**

**Format hiển thị:**

```
****************************5/6 LIVES LEFT****************************
****************************4/6 LIVES LEFT****************************
****************************3/6 LIVES LEFT****************************
```

**Tác dụng tâm lý:**

- Tạo cảm giác căng thẳng, hồi hộp
- Người chơi có động lực hoàn thành nhanh hơn
- "Impending doom" - cảm giác nguy hiểm đang đến gần
- Học hỏi từ game design của các game khó như Elden Ring

**Vị trí hiển thị:**

- Đầu mỗi vòng lặp
- Trước khi người chơi nhập chữ cái
- Giúp họ đánh giá tình hình trước khi quyết định


### TODO 7: Hiển thị từ đúng khi thua

**Yêu cầu:** Khi người chơi thua, cho họ biết từ đúng là gì.

**Cách thực hiện:**

```python
if lives == 0:
    game_over = True
    print(f"**********************IT WAS {chosen_word}! YOU LOSE**********************")
```

**Giải thích:**

**Tại sao cần hiển thị từ đúng:**

- Tránh frustration khi không biết đáp án
- Người chơi học được từ mới
- Cho phép họ đánh giá xem gần thành công đến đâu

**Học từ game design:**
> "It's never good to frustrate your users too much." - Giảng viên

Các game khó như Elden Ring, Dark Souls tuy challenging nhưng vẫn fair và có feedback rõ ràng.

### Code hoàn chỉnh Step 5

```python
import random
from hangman_words import word_list
from hangman_art import stages, logo

print(logo)

chosen_word = random.choice(word_list)
print(chosen_word)  # Để test, xóa khi chơi thật

placeholder = ""
word_length = len(chosen_word)

for position in range(word_length):
    placeholder += "_"

print(placeholder)

lives = 6
correct_letters = []
game_over = False

while not game_over:
    print(f"****************************{lives}/6 LIVES LEFT****************************")
    guess = input("Guess a letter: ").lower()
    
    # TODO 4: Kiểm tra đã đoán chưa
    if guess in correct_letters:
        print(f"You've already guessed {guess}")
    
    display = ""
    
    for letter in chosen_word:
        if letter == guess:
            display += letter
            correct_letters.append(letter)
        elif letter in correct_letters:
            display += letter
        else:
            display += "_"
    
    print(display)
    
    # TODO 5: Feedback khi đoán sai
    if guess not in chosen_word:
        lives -= 1
        print(f"You guessed {guess}, that's not in the word. You lose a life.")
        
        if lives == 0:
            game_over = True
            print(f"**********************IT WAS {chosen_word}! YOU LOSE**********************")
    
    print(stages[lives])
    
    if "_" not in display:
        game_over = True
        print("**********************YOU WIN**********************")
```


### Cải thiện thêm (Optional)

Các ý tưởng để nâng cấp game:

**Tính năng bổ sung:**

- Thêm nhiều từ vựng theo chủ đề (động vật, quốc gia, nghề nghiệp)
- Chọn độ khó (từ ngắn/dài, số mạng khác nhau)
- Lưu high score
- Cho phép chơi nhiều round

**Cải thiện UX:**

- Xóa màn hình mỗi lượt (clear screen)
- Thêm màu sắc (sử dụng colorama library)
- Animation khi thắng/thua
- Sound effects

**Xử lý lỗi:**

- Kiểm tra input hợp lệ (chỉ 1 chữ cái)
- Xử lý số và ký tự đặc biệt
- Chuyển đổi chữ hoa/thường tự động

**Code organization:**

- Tạo functions cho từng phần logic
- Tách game loop thành function riêng
- Thêm docstrings và comments


### Ví dụ gameplay hoàn chỉnh

```
 _                                             
| |                                            
| |__   __ _ _ __   __ _ _ __ ___   __ _ _ __  
| '_ \ / _` | '_ \ / _` | '_ ` _ \ / _` | '_ \ 
| | | | (_| | | | | (_| | | | | | | (_| | | | |
|_| |_|\__,_|_| |_|\__, |_| |_| |_|\__,_|_| |_|
                    __/ |                      
                   |___/

elephant
________

****************************6/6 LIVES LEFT****************************
Guess a letter: e
e_e_____ 
  +---+
  |   |
      |
      |
      |
      |
=========

****************************6/6 LIVES LEFT****************************
Guess a letter: a
e_e_a___
  +---+
  |   |
      |
      |
      |
      |
=========

****************************6/6 LIVES LEFT****************************
Guess a letter: x
You guessed x, that's not in the word. You lose a life.
e_e_a___
  +---+
  |   |
  O   |
      |
      |
      |
=========

****************************5/6 LIVES LEFT****************************
Guess a letter: e
You've already guessed e
e_e_a___
  +---+
  |   |
  O   |
      |
      |
      |
=========

... tiếp tục cho đến khi:

ele_hant
**********************YOU WIN**********************
```


### Kiến thức đã học qua dự án

**Concepts đã áp dụng:**

- [[Variables]] và data types
- [[Lists]] và list operations
- [[For Loop]] và [[While Loop]]
- [[If-Elif-Else]] statements
- [[String]] manipulation
- [[Random Module]]
- [[Import]] và modules
- [[User Input]] handling
- [[Boolean]] logic
- [[F-Strings]] formatting

**Skills phát triển:**

- Problem solving và decomposition
- Flowchart planning
- Code organization
- User experience thinking
- Debugging techniques
- Incremental development


### Lời khuyên cuối cùng

**Về learning process:**
> "Điều quan trọng là bạn thực sự đang học kỹ năng có giá trị, không phải chỉ làm theo mẫu."

**Khuyến nghị:**

- Đừng vội vàng làm theo lịch "1 ngày 1 bài"
- Đảm bảo hiểu rõ từng concept trước khi tiếp tục
- Thử xóa code và viết lại từ đầu
- Tham khảo documentation khi cần
- Thử nghiệm và sửa đổi theo ý tưởng riêng

**Test hiểu biết:**

- Có thể giải thích logic cho người khác?
- Có thể viết lại code mà không nhìn solution?
- Hiểu tại sao code hoạt động như vậy?
- Có thể modify và thêm tính năng mới?


### Kết luận

Chúc mừng! Bạn đã hoàn thành dự án Hangman hoàn chỉnh. Đây là một milestone quan trọng trong hành trình học Python. Game này tuy đơn giản nhưng đã giúp bạn:

- Ôn tập và củng cố kiến thức Python cơ bản
- Học cách tổ chức code với modules
- Hiểu về user experience
- Phát triển kỹ năng problem-solving

Hãy nghỉ ngơi và tự hào về thành tích của mình. Trong các bài học tiếp theo, chúng ta sẽ xây dựng nhiều dự án thú vị hơn nữa!

***

**Liên kết:** [[Import Statement]], [[From Import]], [[Modules]], [[User Experience]], [[Feedback Design]], [[F-Strings]], [[Game Design]], [[Code Organization]], [[Input Validation]], [[Error Handling]], [[ASCII Art]], [[Text-Based Games]], [[Project Completion]]

