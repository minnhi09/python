

## Docstrings - Tài liệu hóa Hàm trong Python

### Khái niệm Docstrings

**Docstrings** là cách tạo tài liệu (documentation) ngay trong code khi viết hàm hoặc các khối code khác. Chúng giúp giải thích chức năng của hàm cho bản thân trong tương lai hoặc cho người khác sử dụng code.

**Ví dụ:** Khi sử dụng hàm có sẵn như `len()`, Python hiển thị documentation: *"Return the number of items in a container."*

### Cách viết Docstrings

**Quy tắc:**

- Đặt ngay sau dòng khai báo hàm (sau dấu `:`)
- Sử dụng ba dấu ngoặc kép `"""` ở đầu và cuối
- Có thể viết nhiều dòng

**Cú pháp:**

```python
def format_name(f_name, l_name):
    """
    Take a first and last name and format it.
    Return the title case version of the name.
    """
    if f_name == "" or l_name == "":
        return "You didn't provide valid inputs."
    
    formatted_f_name = f_name.title()
    formatted_l_name = l_name.title()
    return f"{formatted_f_name} {formatted_l_name}"
```

**Kết quả:** Khi gọi hàm `format_name()`, documentation sẽ hiển thị: *"Take a first and last name and format it. Return the title case version of the name."*

### Đặc điểm của Docstrings

**Hỗ trợ nhiều dòng (multi-line):**

- String thông thường: không thể xuống dòng trực tiếp
- Docstring: có thể viết nhiều dòng mà không cần ký tự đặc biệt

```python
# String thông thường - BỊ LỖI
a = ("A string
     continue")  # SyntaxError

# Docstring - HOẠT ĐỘNG BÌNH THƯỜNG
"""
This is a multi-line docstring.
You can write as many lines as you want.
All will be interpreted together.
"""
```


### Sử dụng Docstring làm Multi-line Comment

**Cách không khuyến nghị:**

```python
"""
This is a comment
spanning multiple lines
but it's confusing
"""
```

Cách này **không được khuyến khích** vì:

- Dễ nhầm lẫn với docstring thực sự
- Nếu gán vào biến, nó trở thành code: `a = """comment"""` → đây là string, không phải comment

**Cách được khuyến nghị:**

```python
# This is a proper comment
# spanning multiple lines
# using individual comment markers
```

**Thao tác nhanh:** Highlight đoạn văn bản → nhấn `Cmd + /` (Mac) hoặc `Ctrl + /` (Windows) để comment nhiều dòng cùng lúc.

### So sánh Comment và Docstring

| Đặc điểm | Comment `#` | Docstring `"""` |
| :-- | :-- | :-- |
| Mục đích | Giải thích code | Tài liệu hóa hàm/module |
| Vị trí | Bất kỳ đâu | Ngay sau khai báo |
| Hiển thị | Không | Có (khi gọi hàm) |
| Nhiều dòng | Cần `#` mỗi dòng | Tự động |

### Ví dụ thực hành

```python
def is_leap_year(year):
    """
    Kiểm tra xem một năm có phải năm nhuận không.
    
    Args:
        year (int): Năm cần kiểm tra
        
    Returns:
        bool: True nếu là năm nhuận, False nếu không
        
    Examples:
        >>> is_leap_year(2000)
        True
        >>> is_leap_year(2100)
        False
    """
    if year % 400 == 0:
        return True
    if year % 100 == 0:
        return False
    if year % 4 == 0:
        return True
    return False

# Khi gọi hàm, docstring sẽ hiển thị
is_leap_year(2024)
```


### Lợi ích của Docstrings

- Tự động tạo documentation cho code
- Giúp IDE/editor hiển thị hướng dẫn khi sử dụng hàm
- Dễ dàng tra cứu chức năng hàm sau này
- Chuẩn hóa cách viết code trong team
- Hỗ trợ các công cụ tạo documentation tự động (như Sphinx)


### Ghi chú quan trọng

- Docstring phải là dòng đầu tiên sau khai báo hàm
- Sử dụng ba dấu ngoặc kép `"""` (không phải `'''`)
- Viết ngắn gọn, rõ ràng về chức năng hàm
- Tránh dùng docstring làm multi-line comment
- Thực hành viết docstring cho mọi hàm quan trọng

***

**Liên kết:** [[Docstrings]], [[Documentation]], [[Multi-line Strings]], [[Comments]], [[Functions]], [[Code Documentation]], [[Best Practices]], [[PEP 257]]

