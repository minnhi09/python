

## Python Slicing - Cáº¯t List vÃ  Tuple

### Váº¥n Ä‘á» vá»›i code hiá»‡n táº¡i

Code phÃ¡t hiá»‡n tail collision Ä‘ang dÃ i dÃ²ng:

```python
for segment in snake.segments:
    if segment == snake.head:
        pass
    elif snake.head.distance(segment) < 10:
        game_is_on = False
        scoreboard.game_over()
```

**Váº¥n Ä‘á»:**

- Pháº£i kiá»ƒm tra xem segment cÃ³ pháº£i head khÃ´ng
- DÃ¹ng `pass` Ä‘á»ƒ bá» qua
- Code khÃ´ng tá»‘i Æ°u

**Má»¥c tiÃªu:** Loop qua táº¥t cáº£ segments **trá»« segment Ä‘áº§u tiÃªn** mÃ  khÃ´ng cáº§n if-else.

### KhÃ¡i niá»‡m Python Slicing

**Slicing** lÃ  ká»¹ thuáº­t láº¥y má»™t pháº§n cá»§a list/tuple/string báº±ng cÃ¡ch chá»‰ Ä‘á»‹nh vá»‹ trÃ­ báº¯t Ä‘áº§u vÃ  káº¿t thÃºc.

**CÃº phÃ¡p:**

```python
list[start:end:step]
```

- `start` - Vá»‹ trÃ­ báº¯t Ä‘áº§u slice (inclusive)
- `end` - Vá»‹ trÃ­ káº¿t thÃºc slice (exclusive)
- `step` - BÆ°á»›c nháº£y (máº·c Ä‘á»‹nh = 1)


### VÃ­ dá»¥ vá»›i piano_keys

```python
piano_keys = ["a", "b", "c", "d", "e", "f", "g"]
```


#### Slice tá»« vá»‹ trÃ­ 2 Ä‘áº¿n 5

```python
piano_keys[2:5]  # ["c", "d", "e"]
```

**Visualization vá»‹ trÃ­ slice:**

```
Position:  0   1   2   3   4   5   6   7
           |   |   |   |   |   |   |   |
Values:    | a | b | c | d | e | f | g |
           |   |   |   |   |   |   |   |
Slice:             ^â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€^
                   2           5
```

**Giáº£i thÃ­ch:**

- Position 0 náº±m **trÆ°á»›c** "a"
- Position 2 náº±m **trÆ°á»›c** "c"
- Position 5 náº±m **trÆ°á»›c** "f"
- Slice tá»« 2 Ä‘áº¿n 5 â†’ ["c", "d", "e"]
- **End position khÃ´ng bao gá»“m** trong káº¿t quáº£


#### Slice tá»« vá»‹ trÃ­ Ä‘áº¿n cuá»‘i

```python
piano_keys[2:]  # ["c", "d", "e", "f", "g"]
```

Bá» qua sá»‘ cuá»‘i â†’ Láº¥y tá»« vá»‹ trÃ­ start Ä‘áº¿n háº¿t list.

#### Slice tá»« Ä‘áº§u Ä‘áº¿n vá»‹ trÃ­

```python
piano_keys[:5]  # ["a", "b", "c", "d", "e"]
```

Bá» qua sá»‘ Ä‘áº§u â†’ Láº¥y tá»« Ä‘áº§u list Ä‘áº¿n vá»‹ trÃ­ end.

#### Slice toÃ n bá»™ list

```python
piano_keys[:]  # ["a", "b", "c", "d", "e", "f", "g"]
```

Bá» qua cáº£ hai sá»‘ â†’ Copy toÃ n bá»™ list.

### Slicing vá»›i Step (bÆ°á»›c nháº£y)

#### Láº¥y má»—i pháº§n tá»­ thá»© 2

```python
piano_keys[2:5:2]  # ["c", "e"]
```

**CÆ¡ cháº¿:**

- Báº¯t Ä‘áº§u tá»« "c" (vá»‹ trÃ­ 2)
- Nháº£y 2 bÆ°á»›c â†’ "e" (vá»‹ trÃ­ 4)
- Dá»«ng trÆ°á»›c vá»‹ trÃ­ 5


#### Láº¥y táº¥t cáº£, má»—i pháº§n tá»­ thá»© 2

```python
piano_keys[::2]  # ["a", "c", "e", "g"]
```

Start vÃ  end trá»‘ng â†’ ToÃ n bá»™ list, nhÆ°ng nháº£y 2 bÆ°á»›c.

#### Äáº£o ngÆ°á»£c list

```python
piano_keys[::-1]  # ["g", "f", "e", "d", "c", "b", "a"]
```

**Step = -1:**

- Äi tá»« cuá»‘i vá» Ä‘áº§u
- Má»—i bÆ°á»›c lÃ¹i 1 pháº§n tá»­
- Káº¿t quáº£: List Ä‘áº£o ngÆ°á»£c

**ÄÃ¢y lÃ  trick phá»• biáº¿n** Ä‘á»ƒ reverse list trong Python!

### Slicing vá»›i Tuple

Slicing hoáº¡t Ä‘á»™ng tÆ°Æ¡ng tá»± vá»›i tuple:

```python
piano_tuple = ("do", "re", "mi", "fa", "so", "la", "ti")
piano_tuple[2:5]  # ("mi", "fa", "so")
```

**LÆ°u Ã½:**

- Tuple dÃ¹ng dáº¥u ngoáº·c Ä‘Æ¡n `()`
- Slicing syntax giá»‘ng list
- Káº¿t quáº£ tráº£ vá» lÃ  tuple


### Báº£ng tá»•ng há»£p Slicing Syntax

```python
piano_keys = ["a", "b", "c", "d", "e", "f", "g"]

# CÃº phÃ¡p cÆ¡ báº£n
piano_keys[2:5]     # ["c", "d", "e"]
piano_keys[2:]      # ["c", "d", "e", "f", "g"]
piano_keys[:5]      # ["a", "b", "c", "d", "e"]
piano_keys[:]       # ["a", "b", "c", "d", "e", "f", "g"]

# Vá»›i step
piano_keys[2:5:2]   # ["c", "e"]
piano_keys[::2]     # ["a", "c", "e", "g"]
piano_keys[::-1]    # ["g", "f", "e", "d", "c", "b", "a"]

# Sá»‘ Ã¢m
piano_keys[-3:]     # ["e", "f", "g"]
piano_keys[:-2]     # ["a", "b", "c", "d", "e"]
piano_keys[-5:-2]   # ["c", "d", "e"]
```


### Ãp dá»¥ng Slicing vÃ o Snake Game

#### Code trÆ°á»›c khi dÃ¹ng Slicing (dÃ i dÃ²ng)

```python
for segment in snake.segments:
    if segment == snake.head:
        pass
    elif snake.head.distance(segment) < 10:
        game_is_on = False
        scoreboard.game_over()
```


#### Code sau khi dÃ¹ng Slicing (tá»‘i Æ°u)

```python
for segment in snake.segments[1:]:
    if snake.head.distance(segment) < 10:
        game_is_on = False
        scoreboard.game_over()
```

**Giáº£i thÃ­ch:**

- `snake.segments[1:]` - Slice tá»« vá»‹ trÃ­ 1 Ä‘áº¿n cuá»‘i
- Bá» qua segment Ä‘áº§u tiÃªn (head á»Ÿ vá»‹ trÃ­ 0)
- Loop chá»‰ qua cÃ¡c segments cá»§a tail
- KhÃ´ng cáº§n if-else Ä‘á»ƒ skip head ná»¯a

**Lá»£i Ã­ch:**

- Code ngáº¯n gá»n hÆ¡n 33%
- Dá»… Ä‘á»c vÃ  hiá»ƒu hÆ¡n
- Hiá»‡u nÄƒng tá»‘t hÆ¡n (Ã­t Ä‘iá»u kiá»‡n kiá»ƒm tra)
- Pythonic code style


### Visualization Snake Segments

```python
snake.segments = [head, seg1, seg2, seg3, seg4]
#                  0     1     2     3     4

# KhÃ´ng dÃ¹ng slicing - Pháº£i skip head
for segment in snake.segments:  # Loop cáº£ 5 segments
    if segment == head:
        pass  # Bá» qua head
    # Check collision vá»›i 4 segments cÃ²n láº¡i

# DÃ¹ng slicing - Tá»± Ä‘á»™ng skip head
for segment in snake.segments[1:]:  # Loop 4 segments: seg1, seg2, seg3, seg4
    # Check collision ngay, khÃ´ng cáº§n if
```


### Code hoÃ n chá»‰nh main.py sau cáº£i tiáº¿n

```python
from turtle import Screen
from snake import Snake
from food import Food
from scoreboard import Scoreboard
import time

screen = Screen()
screen.setup(width=600, height=600)
screen.bgcolor("black")
screen.title("My Snake Game")
screen.tracer(0)

snake = Snake()
food = Food()
scoreboard = Scoreboard()

screen.listen()
screen.onkey(snake.up, "Up")
screen.onkey(snake.down, "Down")
screen.onkey(snake.left, "Left")
screen.onkey(snake.right, "Right")

game_is_on = True
while game_is_on:
    screen.update()
    time.sleep(0.1)
    snake.move()
    
    # Detect collision with food
    if snake.head.distance(food) < 15:
        food.refresh()
        scoreboard.increase_score()
        snake.extend()
    
    # Detect collision with wall
    if snake.head.xcor() > 280 or snake.head.xcor() < -280 or snake.head.ycor() > 280 or snake.head.ycor() < -280:
        game_is_on = False
        scoreboard.game_over()
    
    # Detect collision with tail - IMPROVED WITH SLICING
    for segment in snake.segments[1:]:
        if snake.head.distance(segment) < 10:
            game_is_on = False
            scoreboard.game_over()

screen.exitonclick()
```


### CÃ¡c vÃ­ dá»¥ Slicing thá»±c táº¿ khÃ¡c

#### Láº¥y 3 pháº§n tá»­ Ä‘áº§u

```python
first_three = my_list[:3]
```


#### Láº¥y 3 pháº§n tá»­ cuá»‘i

```python
last_three = my_list[-3:]
```


#### Bá» pháº§n tá»­ Ä‘áº§u vÃ  cuá»‘i

```python
middle = my_list[1:-1]
```


#### Copy list

```python
list_copy = original_list[:]
```


#### Äáº£o ngÆ°á»£c string

```python
reversed_string = "hello"[::-1]  # "olleh"
```


### So sÃ¡nh Slicing vs Other Methods

**Method 1: Loop vá»›i conditional (cÅ©)**

```python
for segment in snake.segments:
    if segment == snake.head:
        pass
    elif condition:
        # do something
```

**Method 2: Slicing (má»›i - tá»‘t nháº¥t)**

```python
for segment in snake.segments[1:]:
    if condition:
        # do something
```

**Method 3: Range indexing (phá»©c táº¡p khÃ´ng cáº§n)**

```python
for i in range(1, len(snake.segments)):
    segment = snake.segments[i]
    if condition:
        # do something
```

â†’ **Slicing lÃ  cÃ¡ch tá»‘t nháº¥t:** Ngáº¯n gá»n, rÃµ rÃ ng, Pythonic.

### Best Practices vá»›i Slicing

**Äá»c dá»… hiá»ƒu:**

```python
# Tá»‘t - RÃµ rÃ ng Ã½ Ä‘á»‹nh
tail_segments = snake.segments[1:]
for segment in tail_segments:
    # check collision

# CÅ©ng tá»‘t - Inline
for segment in snake.segments[1:]:
    # check collision
```

**TrÃ¡nh magic numbers:**

```python
# KhÃ´ng tá»‘t
items[3:7]

# Tá»‘t hÆ¡n - DÃ¹ng constants hoáº·c variables
START_INDEX = 3
END_INDEX = 7
items[START_INDEX:END_INDEX]
```

**Cáº©n tháº­n vá»›i empty slices:**

```python
empty_list = []
empty_list[1:]  # [] - KhÃ´ng lá»—i, tráº£ vá» list rá»—ng
```


### TÃ¹y chá»‰nh Snake Game

**Ã tÆ°á»Ÿng má»Ÿ rá»™ng:**

- Äá»•i mÃ u food sang Ä‘á», vÃ ng, xanh lÃ¡
- Food cÃ³ hÃ¬nh dáº¡ng khÃ¡c: square, triangle
- Ráº¯n Äƒn turtles thay vÃ¬ circles
- Tá»‘c Ä‘á»™ tÄƒng theo Ä‘iá»ƒm
- Nhiá»u loáº¡i food vá»›i Ä‘iá»ƒm khÃ¡c nhau
- ChÆ°á»›ng ngáº¡i váº­t trÃªn map
- Level system

**Code tÃ¹y chá»‰nh food:**

```python
class Food(Turtle):
    def __init__(self):
        super().__init__()
        self.shape("turtle")  # Thay vÃ¬ circle
        self.color("red")     # Thay vÃ¬ blue
        # ...
```


### Tá»•ng káº¿t Slicing

**Syntax chÃ­nh:**

- `list[start:end]` - Slice tá»« start Ä‘áº¿n end (khÃ´ng bao gá»“m end)
- `list[start:]` - Tá»« start Ä‘áº¿n cuá»‘i
- `list[:end]` - Tá»« Ä‘áº§u Ä‘áº¿n end
- `list[::step]` - ToÃ n bá»™ vá»›i bÆ°á»›c nháº£y
- `list[::-1]` - Äáº£o ngÆ°á»£c

**á»¨ng dá»¥ng:**

- Bá» qua pháº§n tá»­ Ä‘áº§u/cuá»‘i
- Láº¥y má»™t pháº§n cá»§a sequence
- Äáº£o ngÆ°á»£c list/string
- Copy list
- Tá»‘i Æ°u code

**Slicing hoáº¡t Ä‘á»™ng vá»›i:**

- Lists
- Tuples
- Strings
- Báº¥t ká»³ sequence type nÃ o


### Kiá»ƒm tra hiá»ƒu biáº¿t

**Quiz:**

```python
numbers = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]

numbers[2:7]    # ?  â†’ [2, 3, 4, 5, 6]
numbers[5:]     # ?  â†’ [5, 6, 7, 8, 9]
numbers[:4]     # ?  â†’ [0, 1, 2, 3]
numbers[::3]    # ?  â†’ [0, 3, 6, 9]
numbers[::-1]   # ?  â†’ [9, 8, 7, 6, 5, 4, 3, 2, 1, 0]
numbers[-3:]    # ?  â†’ [7, 8, 9]
numbers[1:-1]   # ?  â†’ [1, 2, 3, 4, 5, 6, 7, 8]
```


### Káº¿t luáº­n Snake Game Project

**ÄÃ£ hoÃ n thÃ nh:**

- âœ… 7 bÆ°á»›c phÃ¡t triá»ƒn game
- âœ… 3 classes vá»›i OOP
- âœ… Táº¥t cáº£ game mechanics
- âœ… Code optimization vá»›i slicing

**Kiáº¿n thá»©c Ä‘Ã£ há»c:**

- Object Oriented Programming
- Class Inheritance
- Python Slicing
- Collision Detection
- Game Loop
- Event Handling
- Turtle Graphics

**Thá»­ thÃ¡ch:**

- Äáº¡t high score cao nháº¥t
- TÃ¹y chá»‰nh game theo Ã½ thÃ­ch
- Chia sáº» vá»›i báº¡n bÃ¨
- ThÃªm features má»›i

ğŸ‰ **ChÃºc má»«ng báº¡n Ä‘Ã£ hoÃ n thÃ nh Snake Game!**

**LiÃªn káº¿t:** [[Python Slicing]], [[List Slicing]], [[Tuple Slicing]], [[String Slicing]], [[Sequence Slicing]], [[Code Optimization]], [[Pythonic Code]], [[List Indexing]], [[Negative Indexing]], [[Step Parameter]], [[Reverse List]], [[Snake Game Optimization]]

