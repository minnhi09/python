

## Giải Pháp Blackjack - Phần 1: Xử Lý Bài và Chia Bài

### Lời Khuyên Trước Khi Bắt Đầu

Trước khi xem giải pháp, hãy đảm bảo bạn đã thử hết sức để tự giải quyết bài toán. Nếu gặp khó khăn, hãy:

- Nghỉ ngơi, ăn nhẹ, uống nước
- Để não bộ thư giãn một chút
- Quay lại với góc nhìn mới

Phần hướng dẫn này sử dụng **Hint 4** trở đi để xây dựng dự án từng bước một.

### Bước 1: Tạo Hàm deal_card()

**Mục tiêu:** Tạo hàm trả về một lá bài ngẫu nhiên từ bộ bài, trong đó 11 đại diện cho Ace.

```python
import random

def deal_card():
    """Returns a random card from the deck."""
    cards = [11, 2, 3, 4, 5, 6, 7, 8, 9, 10, 10, 10, 10]
    card = random.choice(cards)
    return card
```

**Giải thích:**

- Danh sách `cards` được đặt bên trong hàm
- Sử dụng `random.choice()` để chọn ngẫu nhiên 1 phần tử
- Lưu kết quả vào biến `card` và trả về
- Docstring giúp ghi chú chức năng của hàm


### Bước 2: Chia Bài Cho Người Chơi và Computer

**Mục tiêu:** Chia 2 lá bài cho mỗi bên sử dụng hàm `deal_card()`.

**Khởi tạo danh sách rỗng:**

```python
user_cards = []
computer_cards = []
```

**Chia bài sử dụng vòng lặp for:**

```python
for _ in range(2):
    user_cards.append(deal_card())
    computer_cards.append(deal_card())
```

**Giải thích:**

- `range(2)` giúp vòng lặp chạy 2 lần
- Dấu gạch dưới `_` cho biết không cần sử dụng biến đếm
- `deal_card()` được gọi và kết quả được thêm trực tiếp vào danh sách
- Cả người chơi và computer đều nhận 2 lá mỗi lượt


### Lỗi Thường Gặp: += vs append()

**Cách viết SAI:**

```python
for _ in range(2):
    new_card = deal_card()
    user_cards += new_card  # LỖI!
```

**Thông báo lỗi:**

```
TypeError: 'int' object is not iterable
```

**Giải thích lỗi:**

- Toán tử `+=` là viết tắt của phương thức `extend()`
- `extend()` yêu cầu tham số phải là một iterable (ví dụ: list)
- `new_card` là một số nguyên (int), không phải list
- Do đó gây ra lỗi TypeError

**Cách sửa - Option 1 (dùng append):**

```python
user_cards.append(new_card)  # ĐÚNG
```

**Cách sửa - Option 2 (dùng += với list):**

```python
user_cards += [new_card]  # ĐÚNG - bọc new_card trong []
```

**So sánh append() và extend():**

- `append()`: Thêm 1 phần tử vào cuối list
- `extend()`: Thêm nhiều phần tử từ một iterable vào cuối list

```python
# Ví dụ minh họa
list1 = [1, 2]
list1.append(3)      # Kết quả: [1, 2, 3]
list1.extend([4, 5]) # Kết quả: [1, 2, 3, 4, 5]
```


### Tối Ưu Hóa Code

**Cách viết dài dòng:**

```python
for _ in range(2):
    new_card = deal_card()
    user_cards.append(new_card)
```

**Cách viết tối ưu:**

```python
for _ in range(2):
    user_cards.append(deal_card())
```

**Ưu điểm:**

- Giảm số dòng code
- Loại bỏ biến trung gian không cần thiết
- Code ngắn gọn, dễ đọc hơn
- Kết quả từ `deal_card()` được truyền trực tiếp vào `append()`


### Mã Nguồn Hoàn Chỉnh Phần 1

```python
import random

def deal_card():
    """Returns a random card from the deck."""
    cards = [11, 2, 3, 4, 5, 6, 7, 8, 9, 10, 10, 10, 10]
    card = random.choice(cards)
    return card

# Khởi tạo bài
user_cards = []
computer_cards = []

# Chia 2 lá cho mỗi bên
for _ in range(2):
    user_cards.append(deal_card())
    computer_cards.append(deal_card())
```


### Ghi Chú Thêm

**Về vòng lặp với range():**

- `for _ in range(n)` là pattern phổ biến khi chỉ cần lặp n lần
- Dấu `_` là quy ước cho biến không sử dụng
- Giúp code rõ ràng hơn về ý định

**Về Docstring:**

- Luôn thêm docstring cho các hàm
- Giúp IDE hiển thị thông tin khi hover
- Tài liệu hóa code tốt hơn

**Liên kết:** [[deal_card]], [[random.choice]], [[append]], [[extend]], [[for loop]], [[range]], [[Docstring]], [[TypeError]], [[List Methods]], [[Code Optimization]]

