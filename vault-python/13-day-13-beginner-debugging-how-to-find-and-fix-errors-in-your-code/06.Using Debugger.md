
## Debugging - S·ª≠ d·ª•ng Debugger Tool

### Kh√°i ni·ªám

[[Debugger]] l√† c√¥ng c·ª• debug m·∫°nh m·∫Ω v√† ph·ª©c t·∫°p h∆°n print statement, cho ph√©p d·ª´ng code t·∫°i b·∫•t k·ª≥ ƒëi·ªÉm n√†o v√† ki·ªÉm tra chi ti·∫øt tr·∫°ng th√°i c·ªßa ch∆∞∆°ng tr√¨nh.

### So s√°nh Print vs Debugger

**Print statement:**

- ƒê∆°n gi·∫£n, nhanh ch√≥ng
- Ph·∫£i th√™m/x√≥a code th·ªß c√¥ng
- Ch·ªâ xem ƒë∆∞·ª£c nh·ªØng g√¨ b·∫°n in ra

**Debugger:**

- M·∫°nh m·∫Ω, chuy√™n nghi·ªáp
- Xem t·∫•t c·∫£ bi·∫øn c√πng l√∫c
- Ki·ªÉm so√°t lu·ªìng th·ª±c thi t·ª´ng d√≤ng
- Kh√¥ng c·∫ßn s·ª≠a code


### C√°c c√¥ng c·ª• Debugger ph·ªï bi·∫øn

- **Python Tutor** (pythontutor.com) - Online visualizer
- **Thonny** - Editor c√≥ debugger t√≠ch h·ª£p
- **PyCharm** - IDE chuy√™n nghi·ªáp
- **VS Code** - Editor v·ªõi debug extension


### Breakpoint - ƒêi·ªÉm d·ª´ng

**Kh√°i ni·ªám:** [[Breakpoint]] l√† ƒëi·ªÉm ƒë√°nh d·∫•u ƒë·ªÉ code d·ª´ng l·∫°i, cho ph√©p ki·ªÉm tra tr·∫°ng th√°i ch∆∞∆°ng tr√¨nh t·∫°i v·ªã tr√≠ ƒë√≥.

**C√°ch t·∫°o breakpoint trong PyCharm:**

- Click v√†o gutter (l·ªÅ tr√°i) b√™n c·∫°nh s·ªë d√≤ng
- Xu·∫•t hi·ªán ch·∫•m ƒë·ªè ‚Üí breakpoint ƒë∆∞·ª£c t·∫°o
- Click l·∫°i ƒë·ªÉ v√¥ hi·ªáu h√≥a (m√†u t·ªëi) ho·∫∑c x√≥a

**Ch·∫°y debug mode:**

- Click bi·ªÉu t∆∞·ª£ng bug (üêõ) thay v√¨ Run
- Code s·∫Ω d·ª´ng t·∫°i breakpoint ƒë·∫ßu ti√™n


### V√≠ d·ª• th·ª±c h√†nh

**Code ban ƒë·∫ßu:**

```python
import random
from math import add

def mutate(a_list):
    b_list = []
    new_item = 0
    for item in a_list:
        new_item = item * 2
        new_item += random.randint(1, 3)
        new_item = add(new_item, item)
    b_list.append(new_item)
    print(b_list)

mutate([1, 2, 3, 4, 5, 6])
```

**V·∫•n ƒë·ªÅ:** Ch·ªâ in ra 1 s·ªë thay v√¨ c·∫£ list

### C√°c n√∫t ƒëi·ªÅu khi·ªÉn Debugger

```mermaid
flowchart LR
    A[Breakpoint] --> B[Step Over]
    B --> C[Step Into]
    C --> D[Step Into My Code]
    D --> E[Step Out]
    E --> F[Resume/Continue]
    
    style A fill:#ff6b6b
    style B fill:#ffd43b
    style C fill:#74c0fc
    style D fill:#51cf66
    style E fill:#da77f2
    style F fill:#ffa94d
```


### Chi ti·∫øt c√°c l·ªánh Debug

**Step Over (B∆∞·ªõc qua):**

- Th·ª±c thi d√≤ng hi·ªán t·∫°i v√† d·ª´ng ·ªü d√≤ng ti·∫øp theo
- Kh√¥ng ƒëi v√†o b√™n trong h√†m
- Ph√≠m t·∫Øt: F8

```python
new_item = item * 2  # ‚Üê ƒêang d·ª´ng ·ªü ƒë√¢y
new_item += random.randint(1, 3)  # S·∫Ω d·ª´ng ·ªü ƒë√¢y sau Step Over
```

**Step Into (B∆∞·ªõc v√†o):**

- Th·ª±c thi v√† ƒëi v√†o b√™n trong h√†m ƒë∆∞·ª£c g·ªçi
- Xem chi ti·∫øt c√°ch h√†m ho·∫°t ƒë·ªông
- √Åp d·ª•ng cho c·∫£ library functions (random, math...)
- Ph√≠m t·∫Øt: F7

```python
new_item += random.randint(1, 3)
# Step Into ‚Üí ƒêi v√†o code c·ªßa randint() trong random.py
```

**Step Into My Code (Ch·ªâ v√†o code c·ªßa t√¥i):**

- Gi·ªëng Step Into nh∆∞ng ch·ªâ v√†o code do b·∫°n vi·∫øt
- B·ªè qua library functions (random, math...)
- H·ªØu √≠ch cho multi-file projects
- Ph√≠m t·∫Øt: Alt + Shift + F7

```python
new_item = add(new_item, item)
# Step Into My Code ‚Üí V√†o h√†m add() trong math.py (do b·∫°n t·∫°o)
# Kh√¥ng v√†o random.randint() (library function)
```

**Step Out (B∆∞·ªõc ra):**

- Tho√°t kh·ªèi h√†m hi·ªán t·∫°i
- Quay v·ªÅ ƒëi·ªÉm g·ªçi h√†m
- Ph√≠m t·∫Øt: Shift + F8

**Resume Program (Ti·∫øp t·ª•c):**

- Ch·∫°y code cho ƒë·∫øn breakpoint ti·∫øp theo
- Ho·∫∑c ƒë·∫øn khi k·∫øt th√∫c ch∆∞∆°ng tr√¨nh


### Lu·ªìng ho·∫°t ƒë·ªông Debugger

```mermaid
flowchart TD
    A[ƒê·∫∑t Breakpoint] --> B[Ch·∫°y Debug Mode]
    B --> C[Code d·ª´ng t·∫°i breakpoint]
    C --> D{Ch·ªçn h√†nh ƒë·ªông}
    D -->|Step Over| E[Th·ª±c thi d√≤ng hi·ªán t·∫°i]
    D -->|Step Into| F[V√†o trong h√†m]
    D -->|Step Into My Code| G[V√†o code c·ªßa b·∫°n]
    D -->|Step Out| H[Tho√°t kh·ªèi h√†m]
    D -->|Resume| I[Ch·∫°y ƒë·∫øn breakpoint ti·∫øp theo]
    E --> J[Ki·ªÉm tra gi√° tr·ªã bi·∫øn]
    F --> J
    G --> J
    H --> J
    J --> K{C√≤n code?}
    K -->|C√≥| D
    K -->|Kh√¥ng| L[K·∫øt th√∫c]
    
    style A fill:#ff6b6b
    style J fill:#51cf66
    style L fill:#ffd43b
```

**Gi·∫£i th√≠ch s∆° ƒë·ªì:** Quy tr√¨nh s·ª≠ d·ª•ng debugger b·∫Øt ƒë·∫ßu b·∫±ng ƒë·∫∑t breakpoint, sau ƒë√≥ s·ª≠ d·ª•ng c√°c n√∫t ƒëi·ªÅu khi·ªÉn ƒë·ªÉ theo d√µi t·ª´ng b∆∞·ªõc th·ª±c thi v√† ki·ªÉm tra gi√° tr·ªã bi·∫øn cho ƒë·∫øn khi t√¨m ra l·ªói.

### Xem th√¥ng tin trong Debugger

**Tab Variables (Bi·∫øn):**

Hi·ªÉn th·ªã t·∫•t c·∫£ bi·∫øn v√† gi√° tr·ªã hi·ªán t·∫°i:

```
a_list = [1, 2, 3, 4, 5, 6]
b_list = []
new_item = 0
item = 1
```

**Inline values (Gi√° tr·ªã tr√™n code):**

```python
new_item = item * 2  # item: 1, new_item: 2
new_item += random.randint(1, 3)  # new_item: 5
```

**Tab Console:**

- Hi·ªÉn th·ªã output c·ªßa print statements
- V·∫´n ho·∫°t ƒë·ªông trong debug mode


### Ph√°t hi·ªán v√† s·ª≠a bug

**Ph√¢n t√≠ch v·∫•n ƒë·ªÅ v·ªõi debugger:**

**B∆∞·ªõc 1:** ƒê·∫∑t breakpoint t·∫°i d√≤ng 12

```python
b_list.append(new_item)  # ‚Üê Breakpoint
```

**B∆∞·ªõc 2:** Step Over v√† quan s√°t

- `b_list` v·∫´n r·ªóng trong su·ªët v√≤ng l·∫∑p
- Ch·ªâ c√≥ 1 item ƒë∆∞·ª£c th√™m v√†o cu·ªëi c√πng
- `append` n·∫±m **ngo√†i** v√≤ng l·∫∑p!

**B∆∞·ªõc 3:** X√°c ƒë·ªãnh nguy√™n nh√¢n

```python
for item in a_list:
    new_item = item * 2
    new_item += random.randint(1, 3)
    new_item = add(new_item, item)
b_list.append(new_item)  # ‚ùå Sai indent - ngo√†i v√≤ng l·∫∑p
print(b_list)
```

**B∆∞·ªõc 4:** S·ª≠a l·ªói

```python
for item in a_list:
    new_item = item * 2
    new_item += random.randint(1, 3)
    new_item = add(new_item, item)
    b_list.append(new_item)  # ‚úì ƒê√∫ng indent - trong v√≤ng l·∫∑p
print(b_list)
```


### Khi n√†o d√πng Debugger?

**N√™n d√πng khi:**

- Code ph·ª©c t·∫°p v·ªõi nhi·ªÅu bi·∫øn
- V√≤ng l·∫∑p v·ªõi logic ph·ª©c t·∫°p
- Multi-file projects
- C·∫ßn xem to√†n b·ªô tr·∫°ng th√°i ch∆∞∆°ng tr√¨nh
- Debug code c·ªßa ng∆∞·ªùi kh√°c

**C√≥ th·ªÉ d√πng print khi:**

- L·ªói ƒë∆°n gi·∫£n
- Ch·ªâ c·∫ßn ki·ªÉm tra 1-2 bi·∫øn
- Debug nhanh
- Kh√¥ng c√≥ IDE v·ªõi debugger


### C√°c t√≠nh nƒÉng n√¢ng cao

**Mute breakpoints:**

- V√¥ hi·ªáu h√≥a t·∫•t c·∫£ breakpoints t·∫°m th·ªùi
- Kh√¥ng c·∫ßn x√≥a t·ª´ng c√°i
- H·ªØu √≠ch khi c√≥ nhi·ªÅu breakpoints

**Conditional breakpoints:**

- Ch·ªâ d·ª´ng khi ƒëi·ªÅu ki·ªán th·ªèa m√£n
- V√≠ d·ª•: `item == 5` ho·∫∑c `len(b_list) > 3`

**Watch expressions:**

- Theo d√µi bi·ªÉu th·ª©c c·ª• th·ªÉ
- V√≠ d·ª•: `len(a_list)`, `sum(b_list)`


### Best Practices

**ƒê·∫∑t breakpoints hi·ªáu qu·∫£:**

- ƒê·∫∑t t·∫°i ƒëi·ªÉm b·∫Øt ƒë·∫ßu v√πng nghi ng·ªù
- ƒê·∫∑t tr∆∞·ªõc/sau v√≤ng l·∫∑p
- ƒê·∫∑t t·∫°i c√°c ƒëi·ªÉm quy·∫øt ƒë·ªãnh quan tr·ªçng (if/else)

**S·ª≠ d·ª•ng Step commands:**

- D√πng Step Over cho h·∫ßu h·∫øt c√°c d√≤ng
- D√πng Step Into khi c·∫ßn xem chi ti·∫øt h√†m
- D√πng Step Into My Code cho multi-file projects
- D√πng Step Out khi ƒëi l·∫°c v√†o code kh√¥ng c·∫ßn thi·∫øt

**Quan s√°t bi·∫øn:**

- Ch√∫ √Ω bi·∫øn thay ƒë·ªïi b·∫•t th∆∞·ªùng
- So s√°nh gi√° tr·ªã th·ª±c t·∫ø vs k·ª≥ v·ªçng
- Theo d√µi bi·∫øn trong v√≤ng l·∫∑p


### L·ªói th∆∞·ªùng g·∫∑p v·ªõi Indentation

**L·ªói indent ph·ªï bi·∫øn:**

```python
# ‚ùå L·ªói 1: Code ngo√†i v√≤ng l·∫∑p
for i in range(5):
    x = i * 2
print(x)  # Ch·ªâ in l·∫ßn cu·ªëi

# ‚ùå L·ªói 2: Code ngo√†i if
if condition:
    a = 1
b = a + 1  # Lu√¥n ch·∫°y, kh√¥ng ph·ª• thu·ªôc if

# ‚úì ƒê√∫ng
for i in range(5):
    x = i * 2
    print(x)  # In m·ªói l·∫ßn l·∫∑p
```


### Ghi ch√∫ quan tr·ªçng

**L·ª£i √≠ch c·ªßa Debugger:**

- Gi·ªëng nh∆∞ c√≥ print cho T·∫§T C·∫¢ bi·∫øn
- Ki·ªÉm so√°t th·ªùi ƒëi·ªÉm d·ª´ng code
- Xem code c·ªßa th∆∞ vi·ªán (n·∫øu c·∫ßn)
- Kh√¥ng c·∫ßn s·ª≠a code g·ªëc

**H·∫°n ch·∫ø:**

- H·ªçc h∆°i ph·ª©c t·∫°p ban ƒë·∫ßu
- C·∫ßn IDE h·ªó tr·ª£
- Ch·∫≠m h∆°n print cho l·ªói ƒë∆°n gi·∫£n

**Kinh nghi·ªám:**

- C√†ng debug nhi·ªÅu c√†ng th√†nh th·∫°o
- K·∫øt h·ª£p c·∫£ print v√† debugger
- Debug l√† k·ªπ nƒÉng c·ªët l√µi c·ªßa l·∫≠p tr√¨nh vi√™n

***

**Li√™n k·∫øt:** [[Debugging]], [[debugger]], [[breakpoint]], [[step over]], [[step into]], [[PyCharm]], [[IDE]], [[indentation error]], [[execution flow]], [[variable inspection]], [[debugging tools]]

