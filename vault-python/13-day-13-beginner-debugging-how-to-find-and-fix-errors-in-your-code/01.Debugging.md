

## Debugging - Tìm và Sửa Lỗi Trong Code

### Khái niệm

[[Debugging]] là quá trình tìm và loại bỏ các lỗi (bugs) khỏi mã nguồn. Đây là kỹ năng quan trọng mà mọi lập trình viên đều cần thành thạo.

### Lịch sử về "Bug" đầu tiên

- **Grace Hopper**, một trong những lập trình viên tiên phong, đã ghi nhận trường hợp "bug" thực sự đầu tiên
- Đó là một con bọ (moth) bị kẹt trong relay của máy tính, khiến code không chạy được
- Con bọ này được dán vào sổ ghi chú và trở thành tài liệu lịch sử

**Điều quan trọng cần nhớ:** Mọi lập trình viên đều tạo ra bugs - đây là điều bình thường trong quá trình lập trình.

### Kỹ thuật Debug: Mô tả vấn đề

Bước đầu tiên và quan trọng nhất trong [[debugging]] là **mô tả rõ ràng vấn đề**:

- Nếu vấn đề không được hiểu rõ trong đầu, gần như không thể debug được
- Phân tích và làm rõ vấn đề đang xảy ra
- Kiểm tra các giả định (assumptions) về code của bạn


### Ví dụ thực hành

**Bài toán:** Đoạn code sau không in ra kết quả như mong đợi

```python
def my_function():
    for i in range(1, 20):
        if i == 20:
            print("You got it")

my_function()
```

**Mô tả vấn đề:**

- Hàm lặp qua các số từ 1 đến 20
- Khi `i` đạt giá trị 20, code sẽ in "You got it"
- **Vấn đề:** Không có gì được in ra console

**Phân tích:**

- Giả định: `i` sẽ đạt giá trị 20
- Thực tế: Hàm [[range()]] có cận trên (upper bound) **không được bao gồm**
- `range(1, 20)` tạo ra các số từ 1 đến 19, **không bao gồm 20**
- Do đó, `i` không bao giờ bằng 20 → điều kiện không được thỏa mãn

**Giải pháp:**

```python
def my_function():
    for i in range(1, 21):  # Thay đổi 20 thành 21
        if i == 20:
            print("You got it")

my_function()
```


### Quy trình Debug hiệu quả

- Mô tả chi tiết vấn đề đang gặp phải
- Xác định các giả định trong code
- Kiểm tra xem giả định nào là **sai**
- Sửa lỗi dựa trên phân tích


### Ghi chú quan trọng

Khi sử dụng hàm `range()`:

- `range(4)` → tạo ra: 0, 1, 2, 3 (không bao gồm 4)
- `range(1, 20)` → tạo ra: 1, 2, 3, ..., 19 (không bao gồm 20)
- Cận trên luôn **bị loại trừ** khỏi kết quả

***

**Liên kết:** [[Debugging]], [[Python]], [[range()]], [[for loop]], [[assumptions]]

